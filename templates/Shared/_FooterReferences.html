{% load static %}
<script src="{% static 'js/jquery.js' %}"></script>
<script src="{% static 'js/bootstrap.min.js' %}"></script>
<script src="{% static 'js/jquery.scrollUp.min.js' %}"></script>
<script src="{% static 'js/price-range.js' %}"></script>
<script src="{% static 'js/jquery.prettyPhoto.js' %}"></script>
<script src="{% static 'js/main.js' %}"></script>
<script>
    function getCookie(name) {
        let cookieArr = document.cookie.split(";");
        for (let i = 0; i < cookieArr.length; i++) {
            let cookiePair = cookieArr[i].split("=");
            if (name === cookiePair[0].trim()) {
                return decodeURIComponent(cookiePair[1]);
            }
        }
        return null;
    }

        function submit() {
            const xhr = new XMLHttpRequest();
            xhr.open("POST", "/user/invoice", true);
            xhr.setRequestHeader('Content-Type', "application/x-www-from-urlencoded");
            xhr.setRequestHeader("X-CSRFToken", getCookie('csrftoken'));
            const userId = {{ user.id }};
            const data = "submit1=true";
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status === 200) {
                     alert("آدرس با موفقیت تأیید شد!");
                    window.location.href = "/open-order";
                }
            };
            xhr.send(data)
        }

    function toggleForm() {
        const additionalForm = document.getElementById('additionalForm');
        const option2 = document.querySelector('input[name="options"][value="option2"]');
        const option1 = document.querySelector('input[name="options"][value="option1"]');
        const Same_Ok = document.getElementById('Same_ok');
        if (option2.checked) {
            additionalForm.style.display = 'block';
            Same_Ok.style.display = 'none';
        } else if (option1.checked) {
            Same_Ok.style.display = 'block';
            additionalForm.style.display = 'none';
        } else {
            additionalForm.style.display = 'none';
        }
    }
</script>